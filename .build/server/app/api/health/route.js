"use strict";(()=>{var e={};e.id=829,e.ids=[829],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},67623:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var a={};r.r(a),r.d(a,{GET:()=>p,dynamic:()=>u});var o=r(49303),n=r(88716),s=r(60670),i=r(87070),c=r(83493);let u="force-dynamic";async function p(e){try{let t={status:"ok",timestamp:new Date().toISOString(),environment:"production",database:{configured:!!process.env.DATABASE_URL,urlLength:process.env.DATABASE_URL?.length||0},version:process.env.npm_package_version||"unknown"},r="unknown",a=0;try{a=await c._.product.count(),r="connected"}catch(e){console.error("[HEALTH_CHECK] Database connection failed:",e),r="failed"}let o=[];try{o=await c._.product.findMany({select:{id:!0,name:!0,category:!0},take:5})}catch(e){console.error("[HEALTH_CHECK] Failed to fetch sample products:",e)}let n={...t,database:{...t.database,status:r,productCount:a,sampleProducts:o},request:{url:e.url,method:e.method,userAgent:e.headers.get("user-agent"),timestamp:new Date().toISOString()}};return console.log("[HEALTH_CHECK] Health check completed:",{databaseStatus:r,productCount:a,sampleProductsCount:o.length}),i.NextResponse.json(n,{status:"connected"===r?200:503,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})}catch(e){return console.error("[HEALTH_CHECK] Health check failed:",e),i.NextResponse.json({status:"error",timestamp:new Date().toISOString(),error:{message:e.message,code:e.code},environment:"production"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/home/ubuntu/github_repos/segundofae/app/api/health/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:m}=d,g="/api/health/route";function v(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},83493:(e,t,r)=>{r.d(t,{_:()=>o});let a=require("@prisma/client"),o=global.prisma||new a.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(67623));module.exports=a})();