"use strict";exports.id=121,exports.ids=[121],exports.modules={63689:(e,r,t)=>{t.d(r,{Z:()=>w});var a=t(10326),s=t(17577),l=t(46226),i=t(90434),n=t(16856),o=t(12714),c=t(67427),d=t(57671),u=t(90772),m=t(567),x=t(38209),p=t(62881);let h=(0,p.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var g=t(64833),f=t(86462);let b=(0,p.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var v=t(94019);let y=({isOpen:e,onClose:r,onConfirm:t,productName:s,isLoading:l=!1,error:i=null})=>{let o=()=>{l||r()};return a.jsx(f.M,{children:e&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:o}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-lg p-6 w-full max-w-md mx-4 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(b,{className:"h-5 w-5 text-red-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Delete Product"})]}),a.jsx("button",{onClick:o,disabled:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(v.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("p",{className:"text-gray-700 mb-2",children:"Are you sure you want to delete this product?"}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-red-800 font-medium",children:['"',s,'"']})}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This action cannot be undone. The product will be permanently removed from your store."})]}),i&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-red-800",children:i})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(u.z,{type:"button",variant:"outline",onClick:o,disabled:l,className:"flex-1",children:"Cancel"}),a.jsx(u.z,{type:"button",onClick:t,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:l?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Deleting..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h,{className:"h-4 w-4"}),"Delete Product"]})})]})]})]})})};var j=t(40381);let N=({productId:e,productName:r,onProductDeleted:t})=>{let{isAdmin:l}=(0,g.a)(),[i,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null),x=(0,s.useRef)(null);if(!l)return null;let p=async()=>{if(!o){c(!0),m(null),x.current&&x.current.abort(),x.current=new AbortController;try{let a=await fetch(`/api/products/delete?id=${encodeURIComponent(e)}`,{method:"DELETE",signal:x.current.signal,headers:{"Content-Type":"application/json"}});if(x.current.signal.aborted)return;if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let s=await a.json();if(s.success)j.ZP.success(`Product "${r}" deleted successfully!`),n(!1),t?t():setTimeout(()=>{x.current?.signal.aborted||window.location.reload()},500);else{let e=s.error||"Failed to delete product";m(e),j.ZP.error(e)}}catch(r){if("AbortError"===r.name)return;console.error("Error deleting product:",r);let e=r.message||"An error occurred while deleting the product";m(e),j.ZP.error(e)}finally{x.current?.signal.aborted||c(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsx(u.z,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o||(m(null),n(!0))},size:"sm",variant:"destructive",disabled:o,className:`w-8 h-8 p-0 bg-red-600/90 hover:bg-red-700 text-white shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 ${o?"cursor-not-allowed opacity-50":""}`,title:o?"Deleting...":"Delete Product",children:a.jsx(h,{className:`h-4 w-4 ${o?"animate-pulse":""}`})})}),a.jsx(y,{isOpen:i,onClose:()=>{x.current&&o&&x.current.abort(),n(!1),m(null),c(!1)},onConfirm:p,productName:r,isLoading:o,error:d})]})},w=({product:e,onProductDeleted:r})=>{let[t,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!0),[f,b]=(0,s.useState)(!1),{addItem:v}=(0,x.j)();if(!e||!e.id)return console.warn("ProductCard: Invalid product data",e),null;let y=(()=>{try{let r=e.category||"products",t=e.id;if(!t)return console.warn("ProductCard: Missing product ID",e),"/products";let a=encodeURIComponent(t);return`/products/${r}/${a}`}catch(r){return console.error("ProductCard: Error generating URL",r,e),"/products"}})();return a.jsx(n.E.div,{className:"group relative bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden hover-lift",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),whileHover:{y:-5},children:(0,a.jsxs)(i.default,{href:y,onClick:r=>{e.id||(r.preventDefault(),console.error("Cannot navigate: Invalid product ID"))},children:[(0,a.jsxs)("div",{className:"relative aspect-[4/5] overflow-hidden bg-gray-100",children:[h&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),a.jsx(l.default,{src:f?"/images/placeholder-product.jpg":e.images?.[0]||"/images/placeholder-product.jpg",alt:e.name||"Product image",fill:!0,className:`object-cover transition-all duration-500 ${t?"scale-110":"scale-100"}`,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw",onLoad:()=>g(!1),onError:()=>{g(!1),b(!0)},priority:!1}),(0,a.jsxs)("div",{className:`absolute inset-0 bg-black/20 flex items-center justify-center space-x-2 transition-all duration-300 ${t?"opacity-100":"opacity-0"}`,children:[a.jsx(u.z,{size:"sm",variant:"secondary",className:"bg-white hover:bg-gray-100 text-gray-900",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:a.jsx(o.Z,{className:"h-4 w-4"})}),a.jsx(u.z,{size:"sm",variant:"secondary",className:"bg-white hover:bg-gray-100 text-gray-900",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:a.jsx(c.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col space-y-1",children:[e.featured&&a.jsx(m.C,{className:"bg-[#0A8E81] text-white text-xs",children:"Featured"}),!e.inStock&&a.jsx(m.C,{variant:"destructive",className:"text-xs",children:"Out of Stock"}),e.originalPrice&&e.originalPrice>e.price&&a.jsx(m.C,{variant:"secondary",className:"text-xs",children:"Sale"})]}),a.jsx(N,{productId:e.id,productName:e.name,onProductDeleted:r})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 group-hover:text-[#0A8E81] transition-colors duration-300 line-clamp-2",children:e.name||"Unnamed Product"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.category||"Uncategorized"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description||"No description available"}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-[#0A8E81]",children:["$",(e.price||0).toFixed(2)]}),e.originalPrice&&e.originalPrice>e.price&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice.toFixed(2)]})]})}),(0,a.jsxs)(u.z,{className:"w-full bg-[#0A8E81] hover:bg-[#087267] text-white transition-all duration-300",onClick:r=>{r.preventDefault(),r.stopPropagation(),e&&e.inStock&&v({id:e.id,name:e.name,price:e.price,image:e.images?.[0]||"/images/placeholder-product.jpg",category:e.category})},disabled:!e.inStock,children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),e.inStock?"Add to Cart":"Out of Stock"]})]})]})})}},567:(e,r,t)=>{t.d(r,{C:()=>n});var a=t(10326);t(17577);var s=t(28671),l=t(77863);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...t}){return a.jsx("div",{className:(0,l.cn)(i({variant:r}),e),...t})}},67427:(e,r,t)=>{t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},13605:(e,r,t)=>{t.d(r,{aG:()=>c,gN:()=>u,At:()=>m,Jb:()=>d,AG:()=>x,bg:()=>p});var a=t(19510),s=t(71159),l=t(60394),i=t(55761),n=t(62386);function o(...e){return(0,n.m6)((0,i.W)(e))}let c=s.forwardRef(({...e},r)=>a.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));c.displayName="Breadcrumb";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("ol",{ref:t,className:o("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));d.displayName="BreadcrumbList";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("li",{ref:t,className:o("inline-flex items-center gap-1.5",e),...r}));u.displayName="BreadcrumbItem";let m=s.forwardRef(({className:e,...r},t)=>a.jsx("a",{ref:t,className:o("transition-colors hover:text-foreground",e),...r}));m.displayName="BreadcrumbLink";let x=s.forwardRef(({className:e,...r},t)=>a.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:o("font-normal text-foreground",e),...r}));x.displayName="BreadcrumbPage";let p=({children:e,className:r,...t})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:o("[&>svg]:size-3.5",r),...t,children:e??a.jsx(l.Z,{})});p.displayName="BreadcrumbSeparator"}};