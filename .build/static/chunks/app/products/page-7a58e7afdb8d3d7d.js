(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286,788],{1057:function(e,t,s){Promise.resolve().then(s.bind(s,6500))},6500:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var r=s(7437),i=s(2265),a=s(429),l=s(9064),n=s(2869),c=s(9205);let d=(0,c.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),o=(0,c.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),y=(0,c.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var h=({category:e})=>{let[t,s]=(0,i.useState)([]),[c,h]=(0,i.useState)(!0),[x,u]=(0,i.useState)("grid"),[g,p]=(0,i.useState)("newest"),m=async()=>{try{h(!0);let t=new URLSearchParams;e&&"all"!==e&&t.append("category",e);let r=await fetch(`/api/products?${t}`);if(r?.ok){let e=await r.json();s(e?.products||[])}}catch(e){console.error("Error loading products:",e),s([])}finally{h(!1)}};(0,i.useEffect)(()=>{m()},[e]);let w=()=>{m()},k=[...t].sort((e,t)=>{switch(g){case"name":return(e?.name||"").localeCompare(t?.name||"");case"price-low":return(e?.price||0)-(t?.price||0);case"price-high":return(t?.price||0)-(e?.price||0);case"newest":return new Date(t?.created_at||0).getTime()-new Date(e?.created_at||0).getTime();default:return 0}});return c?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 animate-pulse"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((e,t)=>(0,r.jsx)("div",{className:"bg-white rounded-lg h-96 animate-pulse"},t))})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-4 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[t?.length||0," ",t?.length===1?"product":"products"," found"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1.5 bg-white",children:[(0,r.jsx)("option",{value:"newest",children:"Newest First"}),(0,r.jsx)("option",{value:"name",children:"Name A-Z"}),(0,r.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price-high",children:"Price: High to Low"})]}),(0,r.jsxs)("div",{className:"flex border border-gray-300 rounded overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>u("grid"),className:`p-2 ${"grid"===x?"bg-[#0A8E81] text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:(0,r.jsx)(d,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>u("list"),className:`p-2 ${"list"===x?"bg-[#0A8E81] text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:(0,r.jsx)(o,{className:"h-4 w-4"})})]})]})]}),k?.length>0?(0,r.jsx)(a.E.div,{className:`grid gap-6 ${"grid"===x?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,layout:!0,children:k.map((e,t)=>(0,r.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},layout:!0,children:(0,r.jsx)(l.Z,{product:e,onProductDeleted:w})},e?.id||t))}):(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(y,{className:"h-12 w-12 mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or browse our other categories"}),(0,r.jsx)(n.z,{onClick:()=>window.location.href="/products",className:"bg-[#0A8E81] hover:bg-[#087267]",children:"View All Products"})]})]})}},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6865:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[429,590,894,145,956,64,971,117,744],function(){return e(e.s=1057)}),_N_E=e.O()}]);