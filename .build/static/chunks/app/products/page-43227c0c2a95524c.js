(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{1057:function(e,r,t){Promise.resolve().then(t.bind(t,7478))},1754:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var s=t(7437),a=t(7648),n=t(3145),i=t(5974);function c({product:e}){var r;let t;return(0,s.jsx)(a.default,{href:`/products/${e.category}/product/${e.id}`,children:(0,s.jsxs)("div",{className:"group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"aspect-square relative overflow-hidden bg-gray-100",children:[e.images&&e.images.length>0?(0,s.jsx)(n.default,{src:e.images[0],alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-200"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),(0,s.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.featured&&(0,s.jsx)(i.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Featured"}),!e.inStock&&(0,s.jsx)(i.C,{variant:"destructive",children:"Out of Stock"})]})]}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{className:"capitalize",children:e.category}),e.subcategory&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:(r=e.subcategory)?r.charAt(0).toUpperCase()+r.slice(1):null})]})]}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-gray-700 transition-colors line-clamp-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(t=e.price,new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(t))}),e.materials&&e.materials.length>0&&(0,s.jsxs)("div",{className:"flex gap-1",children:[e.materials.slice(0,2).map((e,r)=>(0,s.jsx)(i.C,{variant:"outline",className:"text-xs",children:e},r)),e.materials.length>2&&(0,s.jsxs)(i.C,{variant:"outline",className:"text-xs",children:["+",e.materials.length-2]})]})]})]})]})})}},7478:function(e,r,t){"use strict";t.d(r,{default:function(){return i}});var s=t(7437),a=t(2265),n=t(1754);function i({category:e,subcategory:r}){let[t,i]=(0,a.useState)([]),[c,l]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{l(!0);let t="/api/products",s=new URLSearchParams;e&&s.append("category",e),r&&s.append("subcategory",r),s.toString()&&(t+=`?${s.toString()}`);let a=await fetch(t);if(!a.ok)throw Error("Failed to fetch products");let n=await a.json();i(n.products||[])}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{l(!1)}})()},[e,r]),c)?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,r)=>(0,s.jsx)("div",{className:"bg-white rounded-lg h-96 animate-pulse"},r))}):o?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("p",{className:"text-red-600",children:["Error loading products: ",o]})}):0===t.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"No products found."})}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,s.jsx)(n.Z,{product:e},e.id))})}},5974:function(e,r,t){"use strict";t.d(r,{C:function(){return c}});var s=t(7437);t(2265);var a=t(7712),n=t(4508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),e),...t})}},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(1994),a=t(3335);function n(...e){return(0,a.m6)((0,s.W)(e))}},7648:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var s=t(2972),a=t.n(s)}},function(e){e.O(0,[137,972,822,971,117,744],function(){return e(e.s=1057)}),_N_E=e.O()}]);