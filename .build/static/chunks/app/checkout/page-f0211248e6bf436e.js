(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{4654:function(){},2932:function(e,t,r){Promise.resolve().then(r.bind(r,7918))},9322:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return c},j:function(){return d}});var s=r(7437),a=r(2265);let i=(0,a.createContext)(null),n=(e,t)=>{switch(t.type){case"ADD_ITEM":{let r;let s=(r=e.items.find(e=>e.id===t.payload.id)?e.items.map(e=>e.id===t.payload.id?{...e,quantity:e.quantity+1}:e):[...e.items,{...t.payload,quantity:1}]).reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,total:s}}case"REMOVE_ITEM":{let r=e.items.filter(e=>e.id!==t.payload),s=r.reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,total:s}}case"UPDATE_QUANTITY":{let r=e.items.map(e=>e.id===t.payload.id?{...e,quantity:Math.max(0,t.payload.quantity)}:e).filter(e=>e.quantity>0),s=r.reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,total:s}}case"CLEAR_CART":return{items:[],total:0};case"LOAD_CART":return t.payload;default:return e}},o=()=>{try{let e=localStorage.getItem("faelight-cart");if(e){let t=JSON.parse(e);if(t&&Array.isArray(t.items)&&"number"==typeof t.total)return t}}catch(e){console.error("Error loading cart from localStorage:",e)}return{items:[],total:0}},l=e=>{try{localStorage.setItem("faelight-cart",JSON.stringify(e))}catch(e){console.error("Error saving cart to localStorage:",e)}},c=({children:e})=>{let[t,r]=(0,a.useReducer)(n,{items:[],total:0}),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=o();e.items.length>0&&r({type:"LOAD_CART",payload:e}),d(!0)},[]),(0,a.useEffect)(()=>{c&&l(t)},[t,c]);let m=t.items.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(i.Provider,{value:{state:t,dispatch:r,items:t.items,addItem:e=>{r({type:"ADD_ITEM",payload:e})},removeItem:e=>{r({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{r({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{r({type:"CLEAR_CART"})},total:t.total,itemCount:m,isLoaded:c},children:e})},d=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},7918:function(e,t,r){"use strict";let s;r.d(t,{default:function(){return $}});var a=r(7437),i=r(2265),n=r(429),o=r(3145),l=r(2449),c=r(2369),d=r(340),m=r(8226),u=r(6337),p=r(2869),h=r(8223),x=r(6815),f=r(1800),g=r(9322),y=r(9376),v=r(6853),b=r(8672),j=r(9142),N=r(257);let w=()=>(s||(s=(0,b.J)("pk_test_temp")),s);new j.Z(N.env.STRIPE_SECRET_KEY,{apiVersion:"2025-08-27.basil"});let _=()=>{let[e,t]=(0,i.useState)(null),r=e=>e?"card_error"===e.type?{message:({card_declined:"Your card was declined. Please try a different payment method.",expired_card:"Your card has expired. Please use a different card.",incorrect_cvc:"Your card's security code is incorrect.",incorrect_number:"Your card number is incorrect.",insufficient_funds:"Your card has insufficient funds.",invalid_cvc:"Your card's security code is invalid.",invalid_expiry_month:"Your card's expiration month is invalid.",invalid_expiry_year:"Your card's expiration year is invalid.",invalid_number:"Your card number is invalid.",processing_error:"An error occurred processing your card. Please try again.",authentication_required:"Your card requires authentication. Please complete the verification."})[e.code]||e.message||"Your card was declined.",type:"card_error",code:e.code,decline_code:e.decline_code,param:e.param}:"validation_error"===e.type?{message:e.message||"Please check your payment information.",type:"validation_error",code:e.code,param:e.param}:"api_error"===e.type?{message:"Payment service temporarily unavailable. Please try again.",type:"api_error",code:e.code}:"connection_error"===e.type?{message:"Network error. Please check your connection and try again.",type:"network_error",code:e.code}:"rate_limit_error"===e.type?{message:"Too many requests. Please wait a moment and try again.",type:"api_error",code:e.code}:{message:e.message||"An unexpected error occurred. Please try again.",type:"unknown_error",code:e.code}:{message:"An unknown error occurred",type:"unknown_error"};return{error:e,setStripeError:e=>{t(r(e))},clearError:()=>{t(null)},getErrorSuggestion:e=>{switch(e.type){case"card_error":if("card_declined"===e.code)return"Try using a different card or contact your bank.";if("insufficient_funds"===e.code)return"Please check your account balance or use a different card.";if(e.code?.includes("incorrect")||e.code?.includes("invalid"))return"Please double-check your card information and try again.";return"Please try a different payment method.";case"validation_error":return"Please check all required fields and try again.";case"api_error":return"This is a temporary issue. Please try again in a few minutes.";case"network_error":return"Please check your internet connection and try again.";default:return"If the problem persists, please contact our support team."}},hasError:!!e}};var E=r(9240),C=r(2489),P=r(7712),A=r(4508);let S=(0,P.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),k=i.forwardRef(({className:e,variant:t,...r},s)=>(0,a.jsx)("div",{ref:s,role:"alert",className:(0,A.cn)(S({variant:t}),e),...r}));k.displayName="Alert",i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h5",{ref:r,className:(0,A.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let I=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,A.cn)("text-sm [&_p]:leading-relaxed",e),...t}));I.displayName="AlertDescription";var T=({title:e="Error",message:t,suggestion:r,onDismiss:s,variant:i="destructive"})=>(0,a.jsxs)(k,{className:(()=>{switch(i){case"warning":return"border-orange-200 bg-orange-50 text-orange-800";case"info":return"border-blue-200 bg-blue-50 text-blue-800";default:return"border-red-200 bg-red-50 text-red-800"}})(),children:[(0,a.jsx)(E.Z,{className:`h-4 w-4 ${(()=>{switch(i){case"warning":return"text-orange-600";case"info":return"text-blue-600";default:return"text-red-600"}})()}`}),(0,a.jsx)(I,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:e}),(0,a.jsx)("div",{className:"mb-2",children:t}),r&&(0,a.jsxs)("div",{className:"text-sm opacity-90",children:[(0,a.jsx)("strong",{children:"Suggestion:"})," ",r]})]}),s&&(0,a.jsx)(p.z,{variant:"ghost",size:"sm",onClick:s,className:"h-6 w-6 p-0 hover:bg-transparent",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})})]})})]}),R=({size:e="md",className:t,color:r="primary"})=>(0,a.jsx)("div",{className:(0,A.cn)("animate-spin rounded-full border-2",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[e],{primary:"border-[#0A8E81] border-t-transparent",white:"border-white border-t-transparent",gray:"border-gray-300 border-t-transparent"}[r],t)});let q=({totalAmount:e,onSuccess:t,onError:r,orderDetails:s})=>{let n=(0,v.useStripe)(),o=(0,v.useElements)(),[l,c]=(0,i.useState)(!1),{error:d,setStripeError:m,clearError:h,getErrorSuggestion:x,hasError:f}=_(),g=async e=>{if(e.preventDefault(),!n||!o){m({message:"Stripe has not loaded yet. Please wait.",type:"validation_error"});return}c(!0),h();try{let{error:e,paymentIntent:a}=await n.confirmPayment({elements:o,redirect:"if_required",confirmParams:{return_url:`${window.location.origin}/checkout/success`}});if(e)m(e),r(e.message||"Payment failed");else if(a&&"succeeded"===a.status)try{let e=await fetch("/api/confirm-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:a.id,order_details:s})}),i=await e.json();i.success?t(a):(m({message:i.error||"Payment confirmation failed",type:"api_error"}),r(i.error||"Payment confirmation failed"))}catch(e){console.error("Error confirming payment:",e),m({message:"Payment succeeded but confirmation failed. Please contact support.",type:"api_error"}),r("Payment confirmation failed")}else a&&"processing"===a.status?m({message:"Your payment is being processed. You will receive a confirmation email shortly.",type:"validation_error"}):a&&"requires_action"===a.status&&m({message:"Your payment requires additional authentication. Please complete the verification.",type:"validation_error"})}catch(e){console.error("Payment error:",e),m(e),r(e.message||"Payment failed")}finally{c(!1)}};return(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[f&&d&&(0,a.jsx)(T,{title:"Payment Error",message:d.message,suggestion:x(d),onDismiss:h,variant:"validation_error"===d.type?"warning":"destructive"}),(0,a.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,a.jsx)(v.PaymentElement,{options:{layout:"tabs",paymentMethodOrder:["card","apple_pay","google_pay"],fields:{billingDetails:{name:"auto",email:"auto",phone:"auto",address:{country:"auto",line1:"auto",line2:"auto",city:"auto",state:"auto",postalCode:"auto"}}}}})}),(0,a.jsx)(p.z,{type:"submit",disabled:!n||!o||l,className:"w-full bg-[#0A8E81] hover:bg-[#087267] text-white py-4 text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:l?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R,{size:"sm",color:"white"}),"Processing Payment..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Pay $",e.toFixed(2)," CAD"]})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"Your payment information is secure and encrypted"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Powered by Stripe â€¢ PCI DSS compliant"})]})]})};var F=({clientSecret:e,totalAmount:t,onSuccess:r,onError:s,orderDetails:i})=>{let n=w();return(0,a.jsx)(v.Elements,{options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"#0A8E81",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#ef4444",borderRadius:"8px"}}},stripe:n,children:(0,a.jsx)(q,{totalAmount:t,onSuccess:r,onError:s,orderDetails:i})})},O=r(8530),$=()=>{let{items:e,total:t,clearCart:r}=(0,g.j)(),s=(0,y.useRouter)(),[v,b]=(0,i.useState)(!1),[j,N]=(0,i.useState)(null),[w,_]=(0,i.useState)(null),[E,C]=(0,i.useState)("shipping"),[P,A]=(0,i.useState)({email:"",firstName:"",lastName:"",phone:"",address:"",apartment:"",city:"",province:"",postalCode:"",country:"Canada",saveInfo:!1,subscribe:!0}),S=t||0,k=(0,O.QP)(S),I=(0,O.km)(S),T=(0,O.tf)(S),R=(e,t)=>{A(r=>({...r,[e]:t}))};(0,i.useEffect)(()=>{"payment"===E&&!j&&T>0&&q()},[E,T,j]);let q=async()=>{try{b(!0);let t=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:T,currency:O.vc.stripe.currency,customer_email:P.email,items:e||[],metadata:{customer_email:P.email,customer_name:`${P.firstName} ${P.lastName}`,shipping_address:`${P.address}, ${P.city}, ${P.province} ${P.postalCode}`,phone:P.phone,items_summary:e?.map(e=>`${e?.name} (${e?.quantity})`).join(", ")||"",subtotal:S.toString(),shipping:k.toString(),tax:I.toString(),total:T.toString()}})}),r=await t.json();r.error?console.error("Error creating payment intent:",r.error):(N(r.client_secret),_(r.payment_intent_id))}catch(e){console.error("Error creating payment intent:",e)}finally{b(!1)}},$=async e=>{if(e.preventDefault(),!P.email||!P.firstName||!P.lastName||!P.address||!P.city||!P.province||!P.postalCode){alert("Please fill in all required fields");return}C("payment")};return e?.length===0?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(l.Z,{className:"h-12 w-12 text-gray-400"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Add some beautiful pieces to your cart before checkout."}),(0,a.jsx)(p.z,{onClick:()=>s.push("/products"),className:"bg-[#0A8E81] hover:bg-[#087267]",children:"Continue Shopping"})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:`flex items-center gap-2 ${"shipping"===E?"text-[#0A8E81]":"text-gray-400"}`,children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${"shipping"===E?"bg-[#0A8E81] text-white":"bg-gray-200"}`,children:"1"}),(0,a.jsx)("span",{className:"font-medium",children:"Shipping"})]}),(0,a.jsx)("div",{className:"w-12 h-px bg-gray-300"}),(0,a.jsxs)("div",{className:`flex items-center gap-2 ${"payment"===E?"text-[#0A8E81]":"text-gray-400"}`,children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${"payment"===E?"bg-[#0A8E81] text-white":"bg-gray-200"}`,children:"2"}),(0,a.jsx)("span",{className:"font-medium",children:"Payment"})]})]})}),"shipping"===E?(0,a.jsxs)("form",{onSubmit:$,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-[#0A8E81]"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Contact Information"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"email",children:"Email Address*"}),(0,a.jsx)(h.I,{id:"email",type:"email",value:P.email,onChange:e=>R("email",e.target.value),className:"mt-1",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"firstName",children:"First Name*"}),(0,a.jsx)(h.I,{id:"firstName",value:P.firstName,onChange:e=>R("firstName",e.target.value),className:"mt-1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"lastName",children:"Last Name*"}),(0,a.jsx)(h.I,{id:"lastName",value:P.lastName,onChange:e=>R("lastName",e.target.value),className:"mt-1",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(h.I,{id:"phone",type:"tel",value:P.phone,onChange:e=>R("phone",e.target.value),className:"mt-1"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-[#0A8E81]"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Shipping Address"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"address",children:"Address*"}),(0,a.jsx)(h.I,{id:"address",value:P.address,onChange:e=>R("address",e.target.value),className:"mt-1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"apartment",children:"Apartment, Suite, etc."}),(0,a.jsx)(h.I,{id:"apartment",value:P.apartment,onChange:e=>R("apartment",e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"city",children:"City*"}),(0,a.jsx)(h.I,{id:"city",value:P.city,onChange:e=>R("city",e.target.value),className:"mt-1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"province",children:"Province*"}),(0,a.jsxs)("select",{id:"province",value:P.province,onChange:e=>R("province",e.target.value),className:"mt-1 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Province"}),(0,a.jsx)("option",{value:"BC",children:"British Columbia"}),(0,a.jsx)("option",{value:"AB",children:"Alberta"}),(0,a.jsx)("option",{value:"ON",children:"Ontario"}),(0,a.jsx)("option",{value:"QC",children:"Quebec"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"postalCode",children:"Postal Code*"}),(0,a.jsx)(h.I,{id:"postalCode",value:P.postalCode,onChange:e=>R("postalCode",e.target.value),className:"mt-1",required:!0})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(f.X,{id:"saveInfo",checked:P.saveInfo,onCheckedChange:e=>R("saveInfo",e)}),(0,a.jsx)("label",{htmlFor:"saveInfo",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Save this information for next time"})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(f.X,{id:"subscribe",checked:P.subscribe,onCheckedChange:e=>R("subscribe",e)}),(0,a.jsx)("label",{htmlFor:"subscribe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Email me with news and offers"})]})]}),(0,a.jsx)(p.z,{type:"submit",className:"w-full bg-[#0A8E81] hover:bg-[#087267] text-white py-4 text-lg font-medium",size:"lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),"Continue to Payment"]})})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Complete Your Order"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Shipping to:"})," ",P.firstName," ",P.lastName]}),(0,a.jsxs)("p",{children:[P.address,", ",P.city,", ",P.province," ",P.postalCode]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Email:"})," ",P.email]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-[#0A8E81]"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Payment Information"}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-green-600 ml-auto"})]}),j?(0,a.jsx)(F,{clientSecret:j,totalAmount:T,onSuccess:e=>{r(),s.push(`/checkout/success?payment_intent=${e.id}`)},onError:e=>{console.error("Payment error:",e)},orderDetails:{...P,items:e,subtotal:S,shipping:k,tax:I,total:T}}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-[#0A8E81] border-t-transparent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Preparing secure checkout..."})]})]}),(0,a.jsx)(p.z,{onClick:()=>C("shipping"),variant:"outline",className:"w-full",size:"lg",children:"Back to Shipping Information"})]})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm sticky top-24 space-y-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Order Summary"}),(0,a.jsx)("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:e?.map((e,t)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx(o.default,{src:e?.image||"/images/placeholder-product.jpg",alt:e?.name||"Product",fill:!0,className:"object-cover",sizes:"48px"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:e?.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e?.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-medium text-sm",children:["$",((e?.price||0)*(e?.quantity||1)).toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",e?.quantity||1]})]})]},`${e?.id}-${t}`))||[]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["$",S.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Shipping"}),(0,a.jsx)("span",{children:0===k?"FREE":`$${k.toFixed(2)}`})]}),S<O.vc.business.freeShippingThreshold&&(0,a.jsxs)("div",{className:"text-xs text-blue-600",children:["Add $",(O.vc.business.freeShippingThreshold-S).toFixed(2)," more for FREE shipping!"]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Tax (GST/PST)"}),(0,a.jsxs)("span",{children:["$",I.toFixed(2)]})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{className:"text-[#0A8E81]",children:["$",T.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"SSL secured checkout"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"Free shipping on orders $50+"})]})]})]})})]})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(2265),i=r(7495),n=r(7712),o=r(4508);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},c)=>{let d=a?i.g7:"button";return(0,s.jsx)(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...n})});c.displayName="Button"},1800:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var s=r(7437),a=r(2265),i=r(9699),n=r(401),o=r(4508);let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.fC,{ref:r,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,s.jsx)(i.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})}));l.displayName=i.fC.displayName},8223:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(7437),a=r(2265),i=r(4508);let n=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var s=r(7437),a=r(2265),i=r(6394),n=r(7712),o=r(4508);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.f,{ref:r,className:(0,o.cn)(l(),e),...t}));c.displayName=i.f.displayName},8530:function(e,t,r){"use strict";r.d(t,{QP:function(){return n},km:function(){return i},tf:function(){return o},vc:function(){return a}});var s=r(257);let a={app:{name:s.env.NEXT_PUBLIC_APP_NAME||"FaeLight Crafts",url:s.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000",description:"Unique handcrafted jewelry and accessories",email:s.env.FROM_EMAIL||"hello@faelightcrafts.com",supportEmail:s.env.ADMIN_EMAIL||"support@faelightcrafts.com"},stripe:{publishableKey:"pk_test_temp",secretKey:s.env.STRIPE_SECRET_KEY,webhookSecret:s.env.STRIPE_WEBHOOK_SECRET,currency:"cad",country:"CA"},business:{freeShippingThreshold:50,taxRate:.12,shippingCost:9.99,minOrderAmount:.5,maxOrderAmount:1e4,orderNumberPrefix:"FC",supportedCurrencies:["CAD","USD"],supportedCountries:["CA","US"]},email:{templates:{orderConfirmation:"order-confirmation",paymentFailed:"payment-failed",shippingNotification:"shipping-notification",adminNotification:"admin-notification"}},social:{instagram:s.env.INSTAGRAM_URL,facebook:s.env.FACEBOOK_URL,twitter:s.env.TWITTER_URL},analytics:{googleAnalyticsId:s.env.GOOGLE_ANALYTICS_ID,facebookPixelId:s.env.FACEBOOK_PIXEL_ID},features:{enableNewsletter:!0,enableReviews:!0,enableWishlist:!0,enableGuestCheckout:!0,enableApplePay:!0,enableGooglePay:!0,enableInventoryTracking:!1}},i=e=>e*a.business.taxRate,n=e=>e>=a.business.freeShippingThreshold?0:a.business.shippingCost,o=e=>{let t=i(e),r=n(e);return e+t+r}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),a=r(3335);function i(...e){return(0,a.m6)((0,s.W)(e))}}},function(e){e.O(0,[429,590,145,364,598,971,117,744],function(){return e(e.s=2932)}),_N_E=e.O()}]);